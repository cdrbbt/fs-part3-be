{"version":3,"sources":["services/phonebookService.js","components/Filter.js","components/AddPerson.js","components/Person.js","components/PersonList.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","person","post","delete","id","put","Filter","filter","filterChange","value","onChange","AddPerson","newPerson","addPerson","nameChange","numberChange","onSubmit","name","number","type","Person","deletePerson","onClick","PersonList","persons","map","key","Notification","notification","console","log","message","color","error","style","background","borderStyle","borderColor","padding","fontSize","fontStyle","defaultPerson","defaultNotification","App","useState","setPersons","setNewPerson","setFilter","setNotification","useEffect","phonebookService","fileteredList","toLowerCase","includes","toLocaleLowerCase","event","target","preventDefault","find","window","confirm","newPersons","findIndex","p","setTimeout","catch","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a63df575.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = 'api/persons'\n\nconst getPersons = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst addPerson = (person) => {\n  const request = axios.post(baseUrl, person)\n  return request.then(response => response.data)\n}\n\nconst removePerson = (person) => {\n  return axios.delete(`${baseUrl}/${person.id}`)\n}\n\nconst changeNumber = (person) => {\n  const request = axios.put(`${baseUrl}/${person.id}`, person)\n  return request.then(response => response.data)\n}\n\nexport default { getPersons, addPerson, removePerson, changeNumber }\n","import React from 'react'\n\nconst Filter = ({ filter, filterChange }) => {\n  return (\n    <div>\n      <h2>Search</h2>\n      Name: <input value={filter} onChange={filterChange} />\n    </div>\n  )\n}\n\n\n\nexport default Filter\n","import React from 'react'\n\nconst AddPerson = ({newPerson, addPerson, nameChange, numberChange}) => {\n\n  return (\n    <div>\n      <h2>Add a new person</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          Name: <input value={newPerson.name} onChange={nameChange} />\n        </div>\n        <div>\n          Number: <input value={newPerson.number} onChange={numberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default AddPerson\n","import React from 'react'\n\nconst Person = ({person, deletePerson}) => {\n  return (\n    <tr>\n      <td>{person.name}</td>\n      <td>{person.number}</td>\n      <td><button onClick={deletePerson(person)}>remove</button></td>\n    </tr>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst PersonList = ({persons, deletePerson}) => {\n  return (\n    <div>\n      <h2>Persons</h2>\n      <table>\n        <tbody>\n          {persons.map(person => <Person person={person} key={person.name} deletePerson={deletePerson}/>)}\n        </tbody>\n      </table>\n    </div>\n\n  )\n}\n\nexport default PersonList\n","import React from 'react'\n\nconst Notification = ({notification}) => {\n  console.log(notification)\n  if (notification.message === null) return null\n\n  const color = notification.error ? 'red' : 'green'\n  const style = {\n    background: 'lightgray',\n    borderStyle: 'solid',\n    borderColor: color,\n    color: color,\n    padding: 10,\n    fontSize: 20,\n    fontStyle: 'italic',\n  }\n\n  return (\n    <div style={style}>{notification.message}</div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\n\nimport phonebookService from './services/phonebookService'\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson'\nimport PersonList from './components/PersonList'\nimport Notification from './components/Notification'\n\nconst defaultPerson = { name: '', number: '' }\nconst defaultNotification = {message:null, error:false}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState(defaultPerson)\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState(defaultNotification)\n\n  useEffect(() => {\n    phonebookService.getPersons()\n      .then(persons => {\n        console.log(persons)\n        setPersons(persons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const person = persons.find(person => person.name === newPerson.name)\n    if (person) {\n      window.confirm(`Update ${newPerson.name}'s number?`) ?\n        phonebookService.changeNumber({...person, number:newPerson.number}).then(person => {\n          const newPersons = [...persons]\n          newPersons[newPersons.findIndex(p => p.id === person.id)] = person\n          setPersons(newPersons)\n          setNewPerson(defaultPerson)\n          setNotification({message: `Updated ${person.name}'s number`, error:false})\n          setTimeout(() => setNotification(defaultNotification), 5000)\n        }).catch(error => {\n          console.log(error)\n          setNotification({message: `${person.name} information has been already deleted from server`, error:true})\n          setTimeout(() => setNotification(defaultNotification), 5000)\n          setPersons(persons.filter(p => p.id !== person.id))\n        }) :\n        console.log('cancel update')\n    } else {\n      phonebookService.addPerson(newPerson)\n        .then(person => {\n          setPersons(persons.concat(person))\n          setNewPerson(defaultPerson)\n          setNotification({message: `Added ${person.name}`, error:false})\n          setTimeout(() => setNotification(defaultNotification), 5000)\n        }).catch (error => {\n          console.log(error.response.data)\n          setNotification({message: error.response.data.error, error:true})\n          setTimeout(() => setNotification(defaultNotification), 5000)\n        })\n    }\n  }\n\n  const deletePerson = (person) => () => {\n    const confirmation = window.confirm(`Delete ${person.name}?`)\n    if (confirmation) {\n      phonebookService.removePerson(person).then(() => setPersons(persons.filter(p => p.id !== person.id)))\n      setNotification({message: `Removed ${person.name}`, error:false})\n          setTimeout(() => setNotification(defaultNotification), 5000)\n    }\n  }\n\n  const nameChange = (event) => setNewPerson({ ...newPerson, name: event.target.value })\n  const numberChange = (event) => setNewPerson({ ...newPerson, number: event.target.value })\n  const filterChange = (event) => setFilter(event.target.value)\n  const fileteredList = persons.filter((person) => person.name.toLowerCase().includes(filter.toLocaleLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification \n      notification={notification}/>\n      <Filter\n        filter={filter}\n        filterChange={filterChange}\n      />\n      <AddPerson\n        newPerson={newPerson}\n        addPerson={addPerson}\n        nameChange={nameChange}\n        numberChange={numberChange}\n      />\n      <PersonList\n        persons={fileteredList}\n        deletePerson={deletePerson}\n      />\n    </div>\n\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}